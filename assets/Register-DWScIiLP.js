import{R as m,j as e,aa as j,W as S,B as n,T as y,ab as v,E as t,w as P,r as k}from"./index-CDAGTLlb.js";import{A as E,c as T,a as i,f as q,F as B,d as R,e as o,E as l,S as W}from"./index.esm-CNvmIr3e.js";const A=m.forwardRef(function(r,d){return e.jsx(E,{elevation:6,ref:d,variant:"filled",...r})}),C=T({name:i().required("Name is required"),email:i().email("Invalid email").required("Email is required"),password:i().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:i().oneOf([q("password"),null],"Passwords must match").required("Confirm Password is required")}),$=()=>{j();const[x,r]=m.useState(!1),[d,p]=m.useState(""),[g,h]=m.useState("success"),w=S(),f=()=>{r(!1)},b=(a,{resetForm:s})=>{const c=JSON.parse(localStorage.getItem("users"))||[];if(c.some(u=>u.email===a.email))p("User already exists!"),h("error"),r(!0);else{const u={name:a.name,email:a.email,password:a.password};c.push(u),localStorage.setItem("users",JSON.stringify(c)),s(),p("Registration successful!"),h("success"),r(!0),k.startTransition(()=>{w("/login")})}};return e.jsxs(n,{sx:{maxWidth:400,margin:"auto",padding:3,borderRadius:2,boxShadow:3,backgroundColor:"background.paper",marginTop:"10%"},children:[e.jsx(y,{variant:"h5",gutterBottom:!0,align:"center",children:e.jsx(v,{})}),e.jsx(B,{initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:C,onSubmit:b,children:({errors:a,touched:s})=>e.jsxs(R,{children:[e.jsx(n,{mb:2,children:e.jsx(o,{as:t,name:"name",type:"text",label:"Name",variant:"outlined",fullWidth:!0,margin:"normal",helperText:e.jsx(l,{name:"name"}),error:s.name&&!!a.name})}),e.jsx(n,{mb:2,children:e.jsx(o,{as:t,name:"email",type:"email",label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",helperText:e.jsx(l,{name:"email"}),error:s.email&&!!a.email})}),e.jsx(n,{mb:2,children:e.jsx(o,{as:t,name:"password",type:"password",label:"Password",variant:"outlined",fullWidth:!0,margin:"normal",helperText:e.jsx(l,{name:"password"}),error:s.password&&!!a.password})}),e.jsx(n,{mb:2,children:e.jsx(o,{as:t,name:"confirmPassword",type:"password",label:"Confirm Password",variant:"outlined",fullWidth:!0,margin:"normal",helperText:e.jsx(l,{name:"confirmPassword"}),error:s.confirmPassword&&!!a.confirmPassword})}),e.jsx(P,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Register"}),e.jsxs("p",{children:["Already have an account! ",e.jsx("a",{href:"/free/login",children:"Login"})]})]})}),e.jsx(W,{open:x,autoHideDuration:3e3,onClose:f,children:e.jsx(A,{onClose:f,severity:g,children:d})})]})};export{$ as default};
