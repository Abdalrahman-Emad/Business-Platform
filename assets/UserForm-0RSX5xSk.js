import{R as f,j as e,W as b,r as v,B as w,w as m,S,T as y,X as x,Y as p,Z as h,E as g}from"./index-CDAGTLlb.js";import{c as q,a as d,f as I,A as U,F as N,d as A,e as c,E as j,S as P}from"./index.esm-CNvmIr3e.js";import{M as n}from"./MenuItem-BtaXB9P8.js";const C=q({userName:d().required("User name is required"),email:d().email("Invalid email address").required("Email is required"),password:d().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:d().oneOf([I("password"),null],"Passwords must match").required("Confirm Password is required"),role:d().required("Role is required"),status:d().required("Status is required")}),F=f.forwardRef(function(r,l){return e.jsx(U,{elevation:6,ref:l,variant:"filled",...r})}),u=({name:s,label:r,type:l="text",touched:i,errors:o})=>e.jsx(c,{as:g,id:s,name:s,label:r,variant:"outlined",fullWidth:!0,margin:"normal",type:l,error:i[s]&&!!o[s],helperText:i[s]&&o[s],"aria-describedby":i[s]&&o[s]?`${s}-error`:void 0}),k=s=>{const r=JSON.parse(localStorage.getItem("users"))||[],i={id:r.length?r[r.length-1].id+1:1,name:s.userName,email:s.email,password:s.password,role:s.role,status:s.status};r.push(i),localStorage.setItem("users",JSON.stringify(r))},O=()=>{const s=b(),[r,l]=v.useState(!1),i=(a,{resetForm:t})=>{k(a),t(),l(!0),setTimeout(()=>{s("/utils/users-view")},2e3)},o=()=>{l(!1)};return e.jsx(N,{initialValues:{userName:"",email:"",password:"",confirmPassword:"",role:"",status:""},validationSchema:C,onSubmit:i,children:({errors:a,touched:t})=>e.jsxs(A,{children:[e.jsx(w,{display:"flex",justifyContent:"flex-end",mb:2,children:e.jsx(m,{variant:"contained",color:"primary",component:S,to:"/utils/users-view",children:"Back"})}),e.jsx(y,{variant:"h5",gutterBottom:!0,children:"User Information"}),e.jsx(u,{name:"userName",label:"User Name",touched:t,errors:a}),e.jsx(u,{name:"email",label:"Email Address",type:"email",touched:t,errors:a}),e.jsx(u,{name:"password",label:"Password",type:"password",touched:t,errors:a}),e.jsx(u,{name:"confirmPassword",label:"Confirm Password",type:"password",touched:t,errors:a}),e.jsxs(x,{fullWidth:!0,margin:"normal",error:t.role&&!!a.role,children:[e.jsx(p,{id:"role-label",children:"Role"}),e.jsxs(c,{as:h,labelId:"role-label",id:"role",name:"role",label:"Role",fullWidth:!0,children:[e.jsx(n,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(n,{value:"Admin",children:"Admin"}),e.jsx(n,{value:"User",children:"User"}),e.jsx(n,{value:"Guest",children:"Guest"})]}),e.jsx(j,{name:"role",component:"div",style:{color:"red"}})]}),e.jsxs(x,{fullWidth:!0,margin:"normal",error:t.status&&!!a.status,children:[e.jsx(p,{id:"status-label",children:"Status"}),e.jsxs(c,{as:h,labelId:"status-label",id:"status",name:"status",label:"Status",fullWidth:!0,children:[e.jsx(n,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(n,{value:"Active",children:"Active"}),e.jsx(n,{value:"Inactive",children:"Inactive"})]}),e.jsx(j,{name:"status",component:"div",style:{color:"red"}})]}),e.jsx(m,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"16px"},children:"Submit"}),e.jsx(P,{open:r,autoHideDuration:2e3,onClose:o,anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(F,{onClose:o,severity:"success",children:"User added successfully!"})})]})})};export{O as default};
